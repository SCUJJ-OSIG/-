#### linux常用命令

## 查看目录结构命令： ls

**ls(list)功能**：列出目录内容 **格式**：`ls` [参数] [文件或目录] **参数**：

```bash
-a    #所有文件和目录。注意隐藏文件、特殊目录、以“.”开头的和以“..”开头的
-l    #使用详细格式列表
-t    #用文件和目录的更改时间排序
-r    #反向排序
```

**常用**：

```
ls -l            #列出当前目录下的文件信息（此命令很常用，简化的格式为 ll）
ls -al           #列出当前目录下的文件信息（包括隐藏文件，特殊目录）
ll /home/        #显示根目录下home目录下的内容
```

**说明**：`ll`是`ls -l`的别名，相当于Windows中的快捷方式，所以`ll`与`ls -l`的功能是一样的。

## 切换目录命令：cd

**cd(change directory)功能**：切换目录 **语法**：`cd`[目录] **常用**：

```
cd ~          #当前用户主目录
cd /          #根目录
cd -          #上一次访问的目录
cd ..         #上一级目录
cd            #当前用户主目录
```

##（3）创建目录命令：mkdir

`pwd`:显示当前工作目录 `mkdir`: 创建目录 `mkdir a`:当前目录下创建文件夹a `mkdir /root/b`:在根目录下的root下创建目录b

## 移动命令：mv

**mv（move）功能**：移动或更名现有的文件或目录 **语法**：`mv` [源文件或目录][目标文件或目录] **示例**：

```bash
mv ./1.txt /root       #将当前目录下的1.txt文件剪切到root目录下重命名文件
mv ./1.txt ./2.txt   #将当前目录下的1.txt文件重命名为2.txt
```

## 备份压缩：tar命令

**tar功能**：文件备份压缩 **格式**：

```bash
tar  参数  压缩后的文件名  被压缩的文件名
tar  参数  被解压的文件名  
-C  指定目录  #如果省略-C指定目录，则解压到当前文件夹
```

**参数**：

```
-c     #建立一个压缩文件的参数指令（create）--压缩
-x     #解开一个压缩文件的参数指令（extract）--解压
-z     #是否需要用gzip压缩
-v     #压缩的过程中显示文件（verbose）
-f     #使用档名，在f之后要立即接档名（file）
```

**常用解压参数组合**：`zxvf` **常用压缩参数组合**：`zcvf` **例如**：

```bash
tar -zcvf /root/1.tar /root/a  #将root目录下的a文件夹压缩成1.tar,放在root目录下。
tar -zxvf ./1.tar              #将当前目录下的1.tar文件解压缩
```

**说明**：如果后缀名为`.tar.gz`的压缩包用`-zxvf`，如果后缀名为`.tar`的压缩包用`-xvf`。

## 文档编辑命令：vi或vim命令

`vim`是一款功能强大的文本编辑器，它是`Linux`下常用的编辑器之一，对于熟练掌握了 `vim`的人来说，用它编辑文件，方便又快捷，能极大的提高工作效率。

###### 1）vim 的模式

进入`vim`之后，会有多种不同的模式，模式之间的切换，让你只需要通过键盘，就能完成文本的编辑，这也是`vim`存在多种模式的原因，`vim`主要有以下几个模式：

 **正常模式**：刚进入`vim`界面的时候是正常模式，复制、粘贴操作都是在这个模式下进行的。

 **插入模式**：文本内容输入，修改是在这个模式下进行的，可以按`i`或者`I`进入到插入模式，在插入模式下，按`esc`会返回到正常模式。 

**命令模式**：输入或者修改完之后，需要保存退出，这个时候`vim`就会进入到命令模式，按`Shift` + `:`进入命令模式，再次按`esc`返回正常模式。 

**可视模式**：可视模式是对文件进行大量重复操作的时候，可以一次性执行完成的功能，可通过`v`、`V`、`ctrl v`进入可视模式。

###### 2）常用命令

```
vim file    #打开文件wq          #保存并退出q!          #不保存退出,会丢失数据
```

**例如**：`vim a.txt`命令打开`a.txt`文件，假如`a.txt`存在的话，打开已有的，不存在的话，则会打开一个新的文件。

##### （6）将Windows剪贴板中内容粘贴到Linux

可以通过`Shift`+`Insert`（有的笔记本电脑可能要按`Shift`+`Fn`+`Insert`）将`Windows`剪贴板中内容粘贴到`Linux`。

# 添加本地ssh秘钥到远程仓库

1. **生成了SSH密钥对**,运行以下命令来生成一个RSA密钥对（默认情况下会保存在`~/.ssh/`目录下，`id_rsa`是私钥文件，`id_rsa.pub`是公钥文件）：
   
   ```shell
   ssh-keygen -t rsa
   ```
   
   - **-t**: 指定密钥的类型。在这里，`rsa` 表示我们将生成一个RSA类型的密钥对。
   - **rsa**: 随 `-t` 之后，指定实际的密钥类型名称。RSA是目前较为常用的一种密钥类型，尽管Ed25519因为其更强的安全性而逐渐变得流行。

**将公钥内容发送到远程服务器**，你可以使用以下命令结构，其中`user`是远程服务器上的用户名，`yourserver.example.com`是服务器的地址：

Bash

```
cat ~/.ssh/id_rsa.pub | ssh user@yourserver.example.com "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
```

这个命令做了几件事：

- `cat ~/.ssh/id_rsa.pub` 读取你本地的公钥文件内容。
- `|` 是管道符号，它将前一个命令的输出作为后一个命令的输入。
- `ssh user@yourserver.example.com` 通过SSH连接到远程服务器。
- `"mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"` 是在远程服务器上执行的命令序列，它首先确保`.ssh`目录存在（如果不存在则创建），然后将接收到的公钥内容追加到`authorized_keys`文件中，或者如果文件不存在，则创建它。